<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.d55590b831498e84848e.css">a.neon1:hover{box-shadow:0 0 10px #ae52d4,0 0 20px #ae52d4,0 0 30px #ae52d4,0 0 40px #ae52d4}a.neon1:hover,a.neon2:hover{border:5px solid;border-radius:5px}a.neon2:hover{box-shadow:0 0 10px #00bcd4,0 0 20px #00bcd4,0 0 30px #00bcd4,0 0 40px #00bcd4}.neon1{color:#fff;text-shadow:0 0 5px #fff,0 0 10px #00bcd4,0 0 20px #00bcd4,0 0 30px #00bcd4,0 0 40px #00bcd4}.neon2{color:#fff;text-shadow:0 0 5px #fff,0 0 10px #ae52d4,0 0 20px #ae52d4,0 0 30px #ae52d4,0 0 40px #ae52d4,0 0 55px #ae52d4,0 0 70px #ae52d4}.neonFlicker{-webkit-animation:neonFlicker 4s infinite;animation:neonFlicker 4s infinite;z-index:-1}@-webkit-keyframes neonFlicker{0%{opacity:1}18%{opacity:1}19%{opacity:.6}20%{opacity:.5;text-shadow:0 0 5px #fff,0 0 6px #ae52d4,0 0 12px #ae52d4,0 0 18px #ae52d4,0 0 20px #ae52d4,0 0 30px #00bcd4,0 0 50px #ae52d4}22%{opacity:.6}24%{opacity:1}83%{opacity:1}84%{opacity:.6}85%{opacity:.8}86%{opacity:.4;text-shadow:0 0 5px #fff,0 0 6px #ae52d4,0 0 12px #ae52d4,0 0 18px #ae52d4,0 0 20px #ae52d4,0 0 30px #ae52d4,0 0 50px #ae52d4}89%{opacity:.8}92%{opacity:.6}to{opacity:1}}@keyframes neonFlicker{0%{opacity:1}18%{opacity:1}19%{opacity:.6}20%{opacity:.5;text-shadow:0 0 5px #fff,0 0 6px #ae52d4,0 0 12px #ae52d4,0 0 18px #ae52d4,0 0 20px #ae52d4,0 0 30px #00bcd4,0 0 50px #ae52d4}22%{opacity:.6}24%{opacity:1}83%{opacity:1}84%{opacity:.6}85%{opacity:.8}86%{opacity:.4;text-shadow:0 0 5px #fff,0 0 6px #ae52d4,0 0 12px #ae52d4,0 0 18px #ae52d4,0 0 20px #ae52d4,0 0 30px #ae52d4,0 0 50px #ae52d4}89%{opacity:.8}92%{opacity:.6}to{opacity:1}}.neonDelay{-webkit-animation-delay:3s;animation-delay:3s;z-index:30}html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em georgia,serif;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:rgba(0,0,0,.8);font-family:georgia,serif;font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt"}img{max-width:100%;padding:0;margin:0 0 1.45rem}h1{font-size:2.25rem}h1,h2{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h6{font-size:.78405rem}hgroup{padding:0;margin:0 0 1.45rem}ol,ul{padding:0;margin:0 0 1.45rem 1.45rem;list-style-position:outside;list-style-image:none}dd,dl,figure,p{padding:0;margin:0 0 1.45rem}pre{margin:0 0 1.45rem;font-size:.85rem;line-height:1.42;background:rgba(0,0,0,.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem}table{font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset,table{padding:0;margin:0 0 1.45rem}blockquote{padding:0;margin:0 1.45rem 1.45rem}form,iframe,noscript{padding:0;margin:0 0 1.45rem}hr{padding:0;margin:0 0 calc(1.45rem - 1px);background:rgba(0,0,0,.2);border:none;height:1px}address{padding:0;margin:0 0 1.45rem}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:SFMono-Regular,Consolas,Roboto Mono,Droid Sans Mono,Liberation Mono,Menlo,Courier,monospace;padding:.2em 0}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{letter-spacing:-.2em;content:" "}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}img:hover{@-webkit-keyframes hoverAnimation{25%{transform:rotate(-20px);-webkit-transform:rotate(-20px);-moz-transform:rotate(-20px);-ms-transform:rotate(-20px);-o-transform:rotate(-20px)}50%{transform:rotate(0);-webkit-transform:rotate(0);-moz-transform:rotate(0);-ms-transform:rotate(0);-o-transform:rotate(0)}75%{transform:rotate(20px);-webkit-transform:rotate(20px);-moz-transform:rotate(20px);-ms-transform:rotate(20px);-o-transform:rotate(20px)}}@keyframes hoverAnimation{25%{transform:rotate(-20px);-webkit-transform:rotate(-20px);-moz-transform:rotate(-20px);-ms-transform:rotate(-20px);-o-transform:rotate(-20px)}50%{transform:rotate(0);-webkit-transform:rotate(0);-moz-transform:rotate(0);-ms-transform:rotate(0);-o-transform:rotate(0)}75%{transform:rotate(20px);-webkit-transform:rotate(20px);-moz-transform:rotate(20px);-ms-transform:rotate(20px);-o-transform:rotate(20px)}}}</style><meta name="generator" content="Gatsby 2.19.21"/><style data-emotion-css="goehoc 8a2xgt olpmze 6yamhn">.css-goehoc{background:#16161d;width:100vw;height:100%;min-height:75vh;}.css-goehoc img{border-radius:15px;box-shadow:0 0 5px #00feff,0 0 20px #00feff7a;-webkit-transition:ease-in-out 200ms;transition:ease-in-out 200ms;}.css-goehoc img:hover{box-shadow:0 0 8px #ae52d4,0 0 30px #ae52d47a;-webkit-transition:ease-in-out 200ms;transition:ease-in-out 200ms;}.css-8a2xgt{background:#16161d;min-height:72vh;height:100%;width:100%;}.css-olpmze{font-weight:bold;color:white;padding:5px 25px;border-radius:10px;border:none;background:linear-gradient(-40deg,#16161d 15%,#4b4b4e 100%);-webkit-transition:ease-in-out 300ms;transition:ease-in-out 300ms;margin-bottom:10px;font-family:sans-serif;}.css-olpmze:hover{-webkit-transition:ease-in-out 300ms;transition:ease-in-out 300ms;-webkit-transform:scale(1.15);-ms-transform:scale(1.15);transform:scale(1.15);background:linear-gradient(40deg,rgba(42,199,214,0.2) 15%,#16161d 100%);box-shadow:0 0 5px #fff,0 0 10px #00bcd4,0 0 20px #00bcd4;-webkit-transition:ease-in-out 300ms;transition:ease-in-out 300ms;}.css-olpmze a{-webkit-text-decoration:none;text-decoration:none;color:white;}.css-6yamhn{font-family:sans-serif;color:white;max-width:900px;margin:0 auto;}.css-6yamhn img{display:block;margin:0 auto;border-radius:14px;max-width:800px;}.css-6yamhn a{color:white;font-weight:bold;-webkit-transition:ease-in-out 300ms;transition:ease-in-out 300ms;}.css-6yamhn a:hover{padding:2px 5px;-webkit-transition:ease-in-out 200ms;transition:ease-in-out 200ms;color:white;text-shadow:0 0 5px #fff,0 0 10px #00bcd4,0 0 20px #00bcd4,0 0 30px #00bcd4;}.css-6yamhn h1{margin-bottom:20px;}.css-6yamhn .date{text-align:right;padding-right:30px;color:white;margin-bottom:5px;}@media (max-width:660px){.css-6yamhn .date{margin-bottom:10px;padding-right:5px;}}.css-6yamhn pre{background-image:linear-gradient(-40deg,#16161d 25%,#4b4b4e 100%);border-radius:35px 15px 0 35px;font-weight:bold;}.css-6yamhn hr{background:#00bcd4;box-shadow:0 0 10px #00bcd4,0 0 20px #00bcd4,0 0 30px #00bcd4;}.css-6yamhn .intro{margin-bottom:15px;font-style:italic;}.css-6yamhn h5{text-align:right;padding-right:40px;}@media (max-width:660px){.css-6yamhn h5{padding-right:5px;}}</style><title data-react-helmet="true">&lt;tomWritesCode /&gt;</title><meta data-react-helmet="true" name="description" content="Hi, my names Thomas and I write code, and drink lots of coffee."/><meta data-react-helmet="true" name="keywords" content="sample, something"/><link rel="icon" href="/icons/icon-48x48.png?v=e188d96b0f4ad2bc27edc8a5a2e34f72"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#16161d"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=e188d96b0f4ad2bc27edc8a5a2e34f72"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=e188d96b0f4ad2bc27edc8a5a2e34f72"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=e188d96b0f4ad2bc27edc8a5a2e34f72"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=e188d96b0f4ad2bc27edc8a5a2e34f72"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=e188d96b0f4ad2bc27edc8a5a2e34f72"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=e188d96b0f4ad2bc27edc8a5a2e34f72"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=e188d96b0f4ad2bc27edc8a5a2e34f72"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=e188d96b0f4ad2bc27edc8a5a2e34f72"/><style data-styled="jfseDb gSCIzE etxUqX UvZpW" data-styled-version="4.4.1">
/* sc-component-id: sc-1ofyja1-0 */
.etxUqX{padding:0 30px;font-family:sans-serif;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;justify-self:end;font-size:2rem;max-width:1700px;} .etxUqX .LinkName{font-size:28px;-webkit-transform:skew(-12deg);-ms-transform:skew(-12deg);transform:skew(-12deg);color:#fff;text-shadow:0 0 5px #fff,0 0 10px #00bcd4,0 0 20px #00bcd4,0 0 30px #00bcd4,0 0 40px #00bcd4;} @media (max-width:660px){.etxUqX .LinkName{font-size:24px;}} .etxUqX .NavStyles{padding:1rem 3rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;text-transform:uppercase;font-weight:900;font-size:1em;background:none;border:0;cursor:pointer;font-weight:800;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;-webkit-transition:300ms ease-in-out;transition:300ms ease-in-out;} @media (max-width:700px){.etxUqX .NavStyles{font-size:10px;padding:0 10px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}} .etxUqX .NavStyles:hover{-webkit-animation:neonFlicker 1.5s infinite;animation:neonFlicker 1.5s infinite;} .etxUqX .NavStyles:hover .LinkName{-webkit-transition:300ms ease-in-out;transition:300ms ease-in-out;text-shadow:0 0 5px #fff,0 0 10px #ae52d4,0 0 20px #ae52d4,0 0 30px #ae52d4,0 0 40px #ae52d4,0 0 55px #ae52d4,0 0 70px #ae52d4;} @media (max-width:660px){.etxUqX{-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}} @media (min-width:661px){.etxUqX{width:100%;font-size:1.5rem;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}}
/* sc-component-id: sc-9eu2yh-0 */
.jfseDb{height:250px;background-image:linear-gradient(40deg,#16161d 35%,#4b4b4eB3 100%);-webkit-clip-path:polygon(0 0,100% 0,100% 70%,0 90%);clip-path:polygon(0 0,100% 0,100% 70%,0 90%);} @media (max-width:660px){.jfseDb{background-image:none;height:130px;-webkit-clip-path:unset;clip-path:unset;margin-bottom:20px;}.jfseDb h1{font-size:9.5vw;text-align:center;}}
/* sc-component-id: sc-9eu2yh-1 */
.UvZpW{height:300px;width:100%;background:#16161d;z-index:-10;position:absolute;top:0;left:0;}
/* sc-component-id: sc-9eu2yh-2 */
.gSCIzE{margin:0;color:#fff;text-shadow:0 0 5px #fff,0 0 10px #ae52d4,0 0 20px #ae52d4,0 0 30px #ae52d4,0 0 40px #ae52d4,0 0 55px #ae52d4,0 0 70px #ae52d4;}</style><script>
      
      !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t,e){var n=document.createElement("script");n.type="text/javascript";n.async=!0;n.src="https://cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a);analytics._loadOptions=e};analytics.SNIPPET_VERSION="4.1.0";
    analytics.load('ilTLS2rr94ZdBLP5IAqFfoyG3zJsHMYm');
    }}();
  
    </script><link as="script" rel="preload" href="/webpack-runtime-53f217ee24a00d6e1af8.js"/><link as="script" rel="preload" href="/app-148645436bac0a472c2f.js"/><link as="script" rel="preload" href="/styles-990dba6a8b1c03f36c4f.js"/><link as="script" rel="preload" href="/commons-142620c44ec533db9f85.js"/><link as="script" rel="preload" href="/component---src-components-post-layout-js-39c836bd8ea605d16b76.js"/><link as="fetch" rel="preload" href="/page-data/raspberrycandy-web-scraper-with-nodejs/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="sc-9eu2yh-0 jfseDb"><div style="margin:0 auto;max-width:960px;padding:1.45rem 1.0875rem"><h1 class="sc-9eu2yh-2 gSCIzE"><a style="color:white;text-decoration:none" href="/">&lt;tomWritesCode /&gt;</a></h1></div><div class="sc-1ofyja1-0 etxUqX"><a class="NavStyles" style="color:white;text-decoration:none;padding:10px 20px" href="/about"><span class="LinkName">About</span></a><a class="NavStyles" style="color:white;text-decoration:none;padding:10px 20px" href="/docs"><span class="LinkName">Docs</span></a><a class="NavStyles" style="color:white;text-decoration:none;padding:10px 20px" href="/gear"><span class="LinkName">Gear</span></a><a class="NavStyles" style="color:white;text-decoration:none;padding:10px 20px" href="/blog"><span class="LinkName">Blog</span></a></div></div><div class="sc-9eu2yh-1 UvZpW"></div><div class="css-goehoc e1fogcta0"><div style="margin:0 auto;max-width:90vw;padding:0px 1.0875rem 1.45rem;padding-top:0"><div class="css-8a2xgt e7zea1r0"><div style="margin-left:-50px;opacity:0"><a class="backButton" href="/blog"><button class="css-olpmze e7zea1r1">Back to Blog</button></a></div><div style="padding-top:100px;opacity:0" class="css-6yamhn e7zea1r2"><h4 class="date">08-April-2019</h4><h1>raspberryCandy web scraper with NodeJS</h1><hr/><h4 class="intro">&quot;<!-- -->This post covers how I made a terminal command that goes to the VS Code marketplace page of rasoberryCandy, scrapes for the number of downloads it has and then returns it in a styled fashion using Figlet and Cheerio.<!-- -->&quot;</h4><div><p><img src="//images.ctfassets.net/u434ytvnd3bo/5XQ2c9F4uB37GT0jnBWrZP/79b58c210c0d4268a47e6af7f4ac4bce/Large_GIF_912x276.gif" alt="raspberryScraper"></p>
<p>Going through a few tutorials that showed how to make a Node app that from my terminal will show me the number of downloads I have had, as well as doing the math on how long raspberryCandy has been released for. </p>
<p>I went through <a href="https://scotch.io/tutorials/scraping-the-web-with-node-js">this article from scotch.io</a> which used NodeJS, Cheerio and request-promise.</p>
<hr>
<p><strong>- request-promise -</strong> <em>Makes the HTTP request which supports promises. The extension of the standard request promise.</em></p>
<p><strong>- Cheerio -</strong> <em>Helps to traverse the DOM letting us select parts of the page we would like to extract.</em></p>
<hr>
<p>Figlet is a great package for making ASCII art from text and has a library of different ways to do so. Chalk is used to colour the text of the response in the terminal which means I could keep the raspberryCandy colours being returned. </p>
<p>The first part of my code is making the piece that looks after displaying when raspberryCandy was released and how many days it has been released for which sits below the number of downloads in the command line result. To do this all I used was the Date function built into Javascript, making one of the dates the release which I already knew and wasnt going to change just put it straight in. And then another date which is the date and time that the function is called.</p>
<p><img src="https://res.cloudinary.com/tomwritescode/image/upload/v1560070897/dates.png" alt="dates"></p>
<p>Following that I made a function which calculates how many days raspberryCandy has been out. The function works in two steps, firslty it subtracts the release date from the current date which then gives us the amount of time bwtween the dates but in Milliseconds (which isn't the most readable).</p>
<p><img src="https://res.cloudinary.com/tomwritescode/image/upload/v1560070896/dateDiff.png" alt="dateDifference"></p>
<p>Step two of the function takes the result in milliseconds and divides it by the math that converts milliseconds to days. This is wrapped in a Math.round() function to give whole days as a return without a decimal.</p>
<p><img src="https://res.cloudinary.com/tomwritescode/image/upload/v1560070895/dateDifference.png" alt="dateDifference Full"></p>
<p>Now for the main party trick, scraping the marketplace page for raspberryCandy to get the number of downloads. This is where we use the request-promise package and give it the target url which in this case is the page on the Visual Studio Marketplace.</p>
<p>Inspecting the page prior to building this I found that the piece I was after was a span with the class name 'downloads-text'. Using Cheerio I can target the span with the right class name from the HTML document and then return it as plain text. Below I have laid out the basic structure of what it is doing. </p>
<p><img src="https://res.cloudinary.com/tomwritescode/image/upload/v1560070897/requestPromise.png" alt="requestPromise"></p>
<p>Now that we have the heavy lifting out of the way the structure comes into play. In my example I have wrapped each of the console.log() returns with the Chalk package allowing me to set the colour, in this case I am going with the Purple and Aqua colours of raspberryCandy.</p>
<p><img src="https://res.cloudinary.com/tomwritescode/image/upload/v1560070897/consoleLog.png" alt="consoleLog Small"></p>
<p>The other extra piece is using Figlet which gives me the ASCII art, this wraps around the Cherrio function and takes the properties of what font to use, as well as the horizontal and vertical layouts. </p>
<p><img src="https://res.cloudinary.com/tomwritescode/image/upload/v1560070894/consoleLog_Long.png" alt="consoleLong"></p>
<p>Now that it's all pieced together the last thing left to do was to link it to my terminal as a single command rather than having to go to the file system and run the JS file. To do this, we add a line to the top of the file which will let us add our command to the package.json.</p>
<p><img src="https://res.cloudinary.com/tomwritescode/image/upload/v1560070895/bin.png" alt="bin"></p>
<p>This line will let it be triggered as a Node command and run. This will also let the next part we add to the package.json work. Inside the package.json I have added:</p>
<p><img src="https://res.cloudinary.com/tomwritescode/image/upload/v1560070895/binCommand.png" alt="binCommand"></p>
<p>Final step is to run <em><strong>npm link</strong></em> in the terminal while in the folder. This takes the bin command, in this case <em><strong>"raspberry"</strong></em> and then launches the command <em><strong>"./raspberryScraper.js"</strong></em>. This is similar to any short hand command like <em><strong>npm run start</strong></em> or <em><strong>gatsby develop</strong></em>.</p>
<hr>
<h2>Links</h2>
<h3>- <a href="https://scotch.io/tutorials/scraping-the-web-with-node-js" title="Scotch.io Article"><strong>Scotch.io article I got most of the resources from.</strong></a></h3>
<h3>- <a href="https://github.com/request/request-promise" title="request-promise GitHub Page"><strong>request-promise GitHub page</strong></a></h3>
<h3>- <a href="https://github.com/cheeriojs/cheerio" title="Cheerio GitHub Page"><strong>Cheerio GitHub page</strong></a></h3>
<h3>- <a href="https://www.npmjs.com/package/figlet" title="Figlet NPM Page"><strong>Figlet NPM page</strong></a></h3>
<h3>- <a href="https://github.com/tomWritesCode/raspberryScraper" title="tomWritesCode GitHub source code"><strong>My GitHub page of the scraper</strong></a></h3></div>Â <h5>&lt;tomWritesCode /&gt;</h5></div></div></div></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/raspberrycandy-web-scraper-with-nodejs";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-148645436bac0a472c2f.js"],"component---src-components-post-layout-js":["/component---src-components-post-layout-js-39c836bd8ea605d16b76.js"],"component---src-pages-404-js":["/component---src-pages-404-js-865293a190eac9b35b00.js"],"component---src-pages-about-js":["/component---src-pages-about-js-8762e0f970f0ec21fa60.js"],"component---src-pages-awayfromthekeyboard-js":["/component---src-pages-awayfromthekeyboard-js-4d34ca5a228675743953.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-9bdab368e462bfde7f27.js"],"component---src-pages-docs-js":["/component---src-pages-docs-js-8fd425f992f3301f586e.js"],"component---src-pages-gear-js":["/component---src-pages-gear-js-848b71034f76b6f82adc.js"],"component---src-pages-index-js":["/component---src-pages-index-js-21c04109fffa8d739976.js"],"component---src-pages-react-conf-au-js":["/component---src-pages-react-conf-au-js-72c52041ab60093f53c2.js"],"component---src-pages-thankyou-js":["/component---src-pages-thankyou-js-7a42b85ff2dd54ca3187.js"],"component---src-pages-yournextdev-js":["/component---src-pages-yournextdev-js-eff196c3a50da9db5366.js"]};/*]]>*/</script><script src="/component---src-components-post-layout-js-39c836bd8ea605d16b76.js" async=""></script><script src="/commons-142620c44ec533db9f85.js" async=""></script><script src="/styles-990dba6a8b1c03f36c4f.js" async=""></script><script src="/app-148645436bac0a472c2f.js" async=""></script><script src="/webpack-runtime-53f217ee24a00d6e1af8.js" async=""></script></body></html>